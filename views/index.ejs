<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8"/>
<script type="text/javascript" src="//code.jquery.com/jquery-2.2.4.min.js"></script>
<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet"/>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<meta name="viewport" content="width=device-width,initial-scale=1"/>

<!--
<link rel="shortcut icon" href="/icon.png" type="image/png"/>
<link rel="icon" href="/icon.png" type="image/png"/>
<link rel="apple-touch-icon" href="/icon.png"/>
-->

<meta name="viewport" content="width=device-width,initial-scale=1"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black"/>
<meta name="apple-mobile-web-app-title" content="Reversi Analytics"/>
<title>Reversi Analytics - <%= board_size %></title>

<style type="text/css">
html, body{
  background-color: #fafafa;
  font-size: 20px;
  color: #333;
}
</style>
<script>
var main_reversi = null;
$(function(){
  $.ajax({
    url: '/api/reversi/start_process',
    type: 'POST',
    data: { size: <%= board_size %> },
    success: function( result ){
      main_reversi = result.result;
      console.log( main_reversi );
      $('#main_reversi').html( JSON.stringify( main_reversi, null, 2 ) );
    },
    error: function( e0, e1, e2 ){
      console.log( e0, e1, e2 );
    }
  });
});

function nextProcess(){
  $.ajax({
    url: '/api/reversi/next_process',
    type: 'POST',
    data: { size: <%= board_size %> },
    success: function( result ){
      if( result && result.status ){
        var r0 = result.result;
        console.log( { r0 } );
        $('#main_reversi').html( JSON.stringify( r0, null, 2 ) );
      }
    },
    error: function( e0, e1, e2 ){
      console.log( e0, e1, e2 );
    }
  });
}
</script>
</head>
<body>

<div class="container">
  <div><pre id="main_reversi">
  </pre></div>
  <button id="next_btn" class="btn btn-primary" onClick="nextProcess();">Next</button>
</div>

</html>
